<?php

// If user is not logged in, and is looking at the homepage,
// then we want to show the "under construction" page and nothing else.

$uri = str_replace(
    '?' . $_SERVER['QUERY_STRING'],
    '',
    $_SERVER['REQUEST_URI']
);

if( $uri == '/' && ! is_user_logged_in() ) { ?>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Peepl</title>
    <style>
html,
body {
    height: 100%;
    background: #222;
}

body {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 1em;
}

svg {
    max-width: 100%;
}

a {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    color: #666;
    text-decoration: none;
    font-family: sans-serif;
    display: block;
    padding: 1em 1em 2em 1em;
    text-align: center;
}

a:hover, a:focus {
    color: #888;
}
    </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" width="200" height="110" viewBox="0 0 200 110"><path fill="#FFF" fill-rule="evenodd" d="M45.253 55.617c2.405 12.085-5.56 31.189-16.113 33.288-2.808.558-9.018-.86-11.465-4.266-2.51 8.728-4.152 17.37-3.153 22.391-8.765 1.745-13.121 1.197-14.019-3.314-.964-4.848 1.36-14.242 3.893-24.147l.346-1.354.52-2.037.345-1.36c2.52-9.967 4.756-19.805 3.627-25.48C18 47.593 21.692 47.92 22.64 52.686c.17.85.253 2.161.168 3.064l.51-.102c1.281-4.68 5.063-9.678 8.382-10.339 4.34-.864 12.148 3.245 13.553 10.308zm116.591-23.202c2.404 12.085-5.56 31.187-16.113 33.288-2.808.558-9.019-.86-11.466-4.266-2.51 8.727-4.152 17.371-3.153 22.391-8.765 1.745-13.12 1.197-14.018-3.314-2.084-10.467 11.169-42.124 8.73-54.378 8.766-1.745 12.458-1.418 13.407 3.348.169.85.253 2.161.167 3.063l.51-.102c1.281-4.678 5.064-9.677 8.383-10.337 4.34-.865 12.147 3.244 13.553 10.307zM83.279 45.308c1.288 6.467-3.04 12.283-9.423 13.552-4.17.83-9.02.911-12.61-.232-.854 4.152-.909 8.32-.215 11.81a19.568 19.568 0 001.222 3.914c2.878-2.43 4.243-6.684 3.77-10.836 8.511-1.694 12.44-.175 13.135 3.314 1.084 5.447-3.637 12.845-9.765 14.063-8.765 1.746-18.885-3.318-21.188-14.892-2.439-12.254 5.624-25.98 17.792-28.402 9.362-1.862 16.08 1.667 17.282 7.709zM29.82 55.415c-6.725 3.993-9.806 21.858-9.112 25.79 6.061-3.773 10.976-18.199 9.842-23.9a6.343 6.343 0 00-.73-1.89zm90.03-17.173c1.287 6.468-3.04 12.283-9.423 13.554-4.17.83-9.02.91-12.61-.234-.854 4.153-.91 8.321-.215 11.81a19.594 19.594 0 001.222 3.915c2.878-2.43 4.243-6.684 3.77-10.836 8.51-1.694 12.44-.176 13.134 3.313 1.084 5.447-3.636 12.846-9.764 14.064-8.765 1.745-18.886-3.318-21.189-14.893-2.439-12.254 5.623-25.98 17.793-28.401 9.361-1.863 16.08 1.666 17.282 7.708zM186.563 5.64c1.052 5.289-1.81 15.987-4.586 26.858l-.346 1.36c-2.589 10.197-4.954 20.355-3.8 26.16-8.764 1.744-13.12 1.196-14.018-3.315-1.053-5.289 1.81-15.987 4.586-26.858l.346-1.36c2.588-10.197 4.954-20.355 3.799-26.16C181.309.58 185.665 1.13 186.563 5.64zm-40.154 26.573c-6.725 3.993-9.805 21.857-9.111 25.79 6.06-3.773 10.976-18.198 9.841-23.9a6.334 6.334 0 00-.73-1.89zm53.033 13.938c.913 4.596-2.102 9-6.784 9.933a8.37 8.37 0 01-9.896-6.613c-.932-4.681 1.982-9.154 6.577-10.068a8.556 8.556 0 0110.103 6.748zM70.076 43.424c-3.661 2.94-6.15 6.885-7.617 11.07.357.017.698-.05 1.038-.118 4.34-.864 7.715-6.136 7.003-9.71-.084-.426-.254-.834-.424-1.242zm36.57-7.066c-3.662 2.94-6.15 6.886-7.617 11.07.357.018.697-.05 1.038-.118 4.34-.863 7.714-6.136 7.003-9.71-.086-.425-.254-.834-.424-1.242z"/></svg>
    <a href="<?php echo wp_login_url(); ?>">Team login</a>
</body>
</html>

<?php
    exit();
}
